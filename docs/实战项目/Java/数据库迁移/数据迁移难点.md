# 迁移难点

## 1）数据安全

数据是数据迁移的基本需求，如何在整个数据迁移操作过程中，保证数据的安全性是一项不小的挑战。除了考虑在迁移前必要的**数据备份**外，还要考虑清楚迁移过程中**数据增量问题**，以及出现异常问题后的**安全回退**等。

## 2）兼容性

兼容性是整个数据迁移方案得以实施的前提。这里谈到的兼容性，不仅包括与原有业务应用系统的兼容，也包括与原有基础平台（监控、预警、备份）及其他数据平台的兼容。如存在不兼容之处，需要考虑之前的规避措施或做必要的调整。

## 3）停机时间

也就是业务迁移时间窗，这也常常是客户最关心的话题，很多情况下客户都是要求在线迁移。随着数据量日益扩大和业务的逐渐复杂，每次迁移停止和启动业务都需要消耗数小时时间，所以每一次数据迁移都是一场与时间赛跑的游戏，要求操作过程的全程可控。
不仅要对正常流程的可控，还要做到在异常情况下的可控，保证即使出现各种异常，还能够正常时间内完成迁移或者回退。这里也要与客户充分的沟通，如果能使用离线迁移方式，还是建议使用离线方式，毕竟这种方式的风险要小很多。

## 4）数据校验

在整个的数据迁移过程中，采用的迁移方式多种多样。由于误操作或者迁移方案缺陷极有可能导致数据库数据的不一致。在迁移的过程中，应该制定严格的数据验证过程。在迁移前后，要有充分的准备。避免由于误操作导致数据库的数据库准确性问题。建议客户采用并行混跑方式，
有较长的时间窗口可以充分验证新环境的数据准确性，避免出现发现异常而无法回退的情况。

## 5）性能保证

性能保证，也是客户比较关心的一个问题。能否对迁移后环境性能变现有个准确的预期，对客户来说尤为重要；但要做到准确的评估是比较困难的。一般建议在正式迁移之前，进行预迁移在全量数据环境下的模拟压力测试，验证性能表现。