---
outline: { level: [ 2,2 ], }
---

## 1、Java会存在内存泄漏吗？

`内存泄漏`是指不再被使用的对象或者变量一直被占据在内存中。理论上来说，Java是有`GC垃圾回收机制`的，不再被使用的对象，会被GC自动回收掉，自动从内存中清除。

但是，即使这样，Java也还是存在着内存泄漏的情况，Java导致内存泄露的原因很明确：`长生命周期的对象持有短生命周期对象的引用就很可能发生内存泄露`，尽管短生命周期对象已经不再需要，但是因为
长生命周期对象持有它的引用而导致不能被回收，这就是Java中内存泄露的发生场景。

## 2、什么情况下会发生栈内存溢出？

**思路**： 描述栈定义，再描述为什么会溢出，再说明一下相关配置参数

* 栈是线程私有的，他的生命周期与线程相同，每个方法在执行的时候都会创建一个栈帧，用来存储`局部变量表`，`操作数栈`，`动态链接`，`方法出口`等信息。局部变量表又包含`基本数据类型`，`对象引用类型`

* 如果线程请求的栈深度大于虚拟机所允许的最大深度，将抛出`StackOverflowError`异常，方法递归调用产生这种结果。

* 如果Java虚拟机栈可以动态扩展，并且扩展的动作已经尝试过，但是无法申请到足够的内存去完成扩展，或者在新建立线程的时候没有足够的内存去创建对应的虚拟机栈，那么Java虚拟机将抛出一个`OutOfMemory`异常。(线程启动过多)

* 参数 `-Xss` 去调整`JVM栈`的大小